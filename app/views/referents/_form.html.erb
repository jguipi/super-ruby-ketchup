
<%= form_for(setup_referent(referent)) do |f| %>

    <% if referent.errors.any? %>
        <div id="error_explanation">
          <h2><%= pluralize(referent.errors.count, "error") %> prohibited this referent from being saved:</h2>

          <ul>
            <% referent.errors.full_messages.each do |message| %>
                <li><%= message %></li>
            <% end %>
          </ul>
        </div>
    <% end %>

    <div class="row">
      <form>
        <div class="row col s12">
          <div class="input-field col s6">
            <%= f.label :prenom, :class => "validate" %>
            <%= f.text_field :prenom, :class => "validate" %>
          </div>
          <div class="input-field col s6">
            <%= f.label :nom, :class => "validate" %>
            <%= f.text_field :nom, :class => "validate" %>
          </div>
          <div class="input-field col s12">
            <%= f.label :refid, "Identifiant", :class => "validate" %>
            <%= f.number_field :refid, size: 20, :class => "validate" %>
          </div>
          <div class="input-field col s12">
            <%= f.label "Actif", :class => "validate" %>
            <div><%= f.check_box :active, :checked_value => true, :unchecked_value => false, :class => "lel" %></div>
          </div>
          <div class="input-field col s12">
            <%= f.label :fax, :class => "validate" %>
            <%= f.text_field :fax, :class => "validate" %>
          </div>

          <div class="input-field col s12">
            <%= f.label :title, :class => "validate" %>
            <%= f.text_field :title, :class => "validate" %>
          </div>
          <div class="input-field col s12">
            <%= f.label :departement, :class => "validate" %>
            <%= f.text_field :departement, :class => "validate" %>
          </div>
          <div class="input-field col s12">
            <label for="preferenceContact">Preference de contact</label>
            <%= f.text_field :preferenceContact, :class => "validate" %>
          </div>
          <div class="input-field col s12">
            <%= f.label :organisme, :class => "validate" %>
            <br/>
            <%= f.collection_select :organisme_id, Organisme.all, :id, :name, :prompt => "Choisir l'organisme associÃ©", :selected => nil %>
          </div>
          <div class="input-field col s12">
            <%= f.label :courriel, :class => "validate" %>
            <%= email_field(:referent, :courriel)%>
          </div>
          <div>
            <%= f.fields_for :telephones do |ff| %>
                <div class="input-field col s12">
                  <%= ff.label :number %>
                  <%= ff.text_field :number %>
                </div>
                <div class="input-field col s12">
                  <%= ff.label :numberType %>
                  <%= ff.text_field :numberType %>
                </div>
            <% end %>
          </div>
          <div class="actions">
            <%= f.submit "Enregistrer", :class => "waves-effect waves-light btn margin10-left" %>
          </div>
        </div>
      </form>
    </div>


<% end %>

<script>
    $(document).ready(function() {
        $('select').material_select();
    });
    Materialize.updateTextFields();
</script>
